(this["webpackJsonpreact-music"]=this["webpackJsonpreact-music"]||[]).push([[8],{100:function(e,t,n){"use strict";n.r(t);var r=n(19),a=n.n(r),i=n(26),o=n(12),s=n(13),u=n(15),c=n(14),l=n(0),f=n.n(l),d=n(20),h=n(16),p=n(131),g=n(134),v=n(163),m=n(36),y=n(164),b=y.a.setSessionStorage,k=y.a.getSessionStorage,w=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={tagsHot:[],tag:{},handpickList:[]},e.handleChangeTag=function(t){b("song_tag",t),e.setState({tag:t}),e.getSongHandpickData(t.name)},e}return Object(s.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.r)();case 2:t=e.sent,this.setState({tagsHot:t.data.tags.map((function(e){return{name:e.name}}))},(function(){n.setState({tag:n.state.tagsHot[0]}),n.getSongHandpickData((k("song_tag")||{}).name||n.state.tag.name)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSongHandpickData",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.q)(39,t,"hot");case 2:n=e.sent,this.setState({handpickList:n.data.playlists.map((function(e){return{picUrl:e.coverImgUrl,id:e.id,name:e.name,playCount:e.playCount}}))});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.tagsHot,r=t.handpickList;return n.length?f.a.createElement("div",{className:"songSheet"},f.a.createElement(p.a,{height:90},f.a.createElement("header",{className:"header"},f.a.createElement("section",{className:"left"},f.a.createElement("i",{className:"iconfont icon-jiantouzuo",onClick:function(){return e.props.history.push("/")}}),f.a.createElement("p",null,"\u6b4c\u5355\u5e7f\u573a"))),f.a.createElement(v.a,{tagList:n,handleChangeTag:this.handleChangeTag,tagIndex:(k("song_tag")||{}).index})),f.a.createElement("section",{className:"handpick_list"},r.map((function(e,t){return f.a.createElement(h.NavLink,{key:t,to:"/recommend?id=".concat(e.id,"&name=").concat(e.name)},f.a.createElement(g.a,{item:e,color:"#000"}))})))):f.a.createElement(m.a,null)}}]),n}(l.Component);t.default=w},126:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(129),o=n.n(i);t.a=function(e){var t={options:{error:n(127),loading:n(128),throttleWait:1e3},src:e.src};return a.a.createElement(o.a,t)}},127:function(e,t,n){e.exports=n.p+"static/media/loading-error.99e68751.svg"},128:function(e,t,n){e.exports=n.p+"static/media/loading.0bab9ee3.svg"},129:function(e,t,n){var r;window,e.exports=(r=n(0),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window,a=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},i=function(e){return a(e,"overflow")+a(e,"overflow-y")+a(e,"overflow-x")},o={on:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(){if(!r)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}()?e.addEventListener(t,n,a):e.addEventListener(t,n,{capture:a,passive:!0})},off:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}};t.throttle=function(e,t){var n=null,r=0;return function(){if(!n){var a=this,i=arguments,o=function(){r=Date.now(),n=!1,e.apply(a,i)};Date.now()-r>=t?o():n=setTimeout(o,t)}}},t.remove=function(e,t){if(e.length){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},t.style=a,t.inBrowser=r,t.eventRegister=o,t.scrollParent=function(e){if(!r)return!1;if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window},t.loadImageAsync=function(e,t,n){if(e.src){var r=new Image;r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src})},r.onerror=function(e){n(e)}}else n("img path is require")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),i=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var s=new(o(n(3)).default),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){s.add({el:n.refs.lazyImg,src:n.props.src,backgroundImage:!!n.props.tag,options:n.props.options})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return this.props.tag?i.default.createElement(this.props.tag,{ref:"lazyImg",className:this.props.className,onClick:this.props.onClick}):i.default.createElement("img",{className:this.props.className,onClick:this.props.onClick,ref:"lazyImg"})}},{key:"shouldComponentUpdate",value:function(e){return s.update({el:this.refs.lazyImg,src:e.src,backgroundImage:!!e.tag,options:e.options}),!0}},{key:"componentWillUnmount",value:function(){s.remove(this.refs.lazyImg)}}]),t}();t.default=u},function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultOptions={throttleWait:200,preLoad:1.3,listenEvents:["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],error:s,loading:s},this.ListenerQueue=[],this.TargetQueue=[],this.lazyLoadHandler=(0,i.throttle)(this.$lazyLoadHandler.bind(this),this.defaultOptions.throttleWait)}return a(e,[{key:"inintOptions",value:function(e){this.defaultOptions=r({},this.defaultOptions,e)}},{key:"add",value:function(e){var t=e.el,n=e.src,a=e.backgroundImage,s=e.options,u=void 0===s?{}:s;if(this.ListenerQueue.some((function(e){return e.el===t})))this.update({el:t,src:n,backgroundImage:a,options:u});else{this.inintOptions(u);var c=(0,i.scrollParent)(t),l=new o.default({el:t,src:n,$parent:c,elRenderer:this.elRenderer,options:r({},this.defaultOptions,{backgroundImage:a})});this.ListenerQueue.push(l),i.inBrowser&&(this.addListenerTarget(window),this.addListenerTarget(c)),this.lazyLoadHandler()}}},{key:"update",value:function(e){var t=e.el,n=e.src,a=e.backgroundImage,i=e.options,o=void 0===i?{}:i,s=this.ListenerQueue.find((function(e){return e.el===t}));this.inintOptions(o),s&&s.updata({src:n,options:r({},this.defaultOptions,{backgroundImage:a})}),this.lazyLoadHandler()}},{key:"remove",value:function(e){if(e){var t=this.ListenerQueue.find((function(t){return t.el===e}));t&&(this.removeListenerTarget(t.$parent),this.removeListenerTarget(window),(0,i.remove)(this.ListenerQueue,t))}}},{key:"addListenerTarget",value:function(e){var t=this.TargetQueue.find((function(t){return t.el===e}));t?++t.childrenCount:(t={el:e,childrenCount:1},this.initListener(t.el,!0),this.TargetQueue.push(t))}},{key:"removeListenerTarget",value:function(e){var t=this;this.TargetQueue.forEach((function(n,r){n.el===e&&(--n.childrenCount,n.childrenCount||(t.initListener(n.el,!1),t.TargetQueue.splice(r,1),n=null))}))}},{key:"initListener",value:function(e,t){var n=this;this.defaultOptions.listenEvents.forEach((function(r){i.eventRegister[t?"on":"off"](e,r,n.lazyLoadHandler)}))}},{key:"elRenderer",value:function(e,t){var n=e.el,r=void 0;switch(t){case"loading":r=e.loading;break;case"error":r=e.error;break;default:r=e.src}e.options.backgroundImage?n.style.backgroundImage="url("+r+")":n.getAttribute("src")!==r&&n.setAttribute("src",r),n.setAttribute("lazy",t)}},{key:"$lazyLoadHandler",value:function(){this.ListenerQueue.forEach((function(e){!e.loaded&&e.checkInView()&&e.load()}))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i={},o=function(){function e(t){var n=t.el,r=t.src,a=t.$parent,i=t.elRenderer,o=t.options;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=n,this.src=r,this.error=o.error,this.loading=o.loading,this.$parent=a,this.options=o,this.elRenderer=i,this.initStatus(),this.render("loading")}return r(e,[{key:"initStatus",value:function(){this.status={error:!1,loaded:!1}}},{key:"load",value:function(){var e=this;this.status.error||((this.status.loaded||i[this.src])&&this.render("loaded"),(0,a.loadImageAsync)({src:this.src},(function(){e.status.loaded=!0,e.status.error=!1,e.render("loaded"),i[e.src]=!0}),(function(t){e.status.loaded=!1,e.status.error=!0,e.render("error")})))}},{key:"updata",value:function(e){var t=e.src,n=e.options,r=this.src;this.src=t,this.loading=n.loading,this.error=n.error,this.options=n,r!==this.src&&this.initStatus()}},{key:"render",value:function(e){this.elRenderer(this,e)}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}}]),e}();t.default=o}]))},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(12),a=n(13),i=n(15),o=n(14),s=n(0),u=n.n(s),c=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).setFixed=function(){var e=document.documentElement.scrollTop,t=a.headerRef.current;e>0?(a.headerAntiShake.current.style.height=a.props.height+"px",t.classList.add("header_fixed")):(t.classList.remove("header_fixed"),a.headerAntiShake.current.style.height=null)},a.headerRef=Object(s.createRef)(),a.headerAntiShake=Object(s.createRef)(),a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.setFixed)}},{key:"render",value:function(){return u.a.createElement("div",{ref:this.headerAntiShake},u.a.createElement("section",{className:"",ref:this.headerRef},this.props.children))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.setFixed)}}]),n}(s.Component)},134:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(142),o=n(126);t.a=function(e){var t=e.item,n=e.color;return a.a.createElement("div",{className:"song_item",key:t.id},a.a.createElement("div",{className:"info"},a.a.createElement(o.a,{src:t.picUrl}),a.a.createElement("p",null,a.a.createElement("i",{className:"iconfont icon-bofangsanjiaoxing",style:{color:n}}),a.a.createElement("span",null,Object(i.a)(t.playCount)))),a.a.createElement("p",null,t.name))}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t,n=1e4,r={};return e<n?(r.value=e,r.unit=""):(t=Math.floor(Math.log(e)/Math.log(n)),r.value=(e/Math.pow(n,t)).toFixed(2),r.unit=["","\u4e07","\u4ebf","\u4e07\u4ebf"][t]),r.value+r.unit}},163:function(e,t,n){"use strict";var r=n(22),a=n(12),i=n(13),o=n(15),s=n(14),u=n(0),c=n.n(u),l=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={tagIndex:e.props.tagIndex||0},e.handleClickTag=function(t,n){e.setState({tagIndex:n}),e.props.handleChangeTag(Object(r.a)(Object(r.a)({},t),{},{index:n}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.tagList,n=this.state.tagIndex;return c.a.createElement("nav",{className:"nav_list"},c.a.createElement("div",{className:"nav_list_scroll"},t.map((function(t,r){return c.a.createElement("section",{className:r===n?"activate":null,key:r,onClick:function(){return e.handleClickTag(t,r)}},c.a.createElement("p",null,t.name))}))))}}]),n}(u.Component);t.a=l},164:function(e,t,n){"use strict";t.a={getSessionStorage:function(e){return JSON.parse(sessionStorage.getItem(e))},setSessionStorage:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},recommendSessionStorage:function(e){sessionStorage.removeItem(e)}}}}]);
//# sourceMappingURL=8.121dee1c.chunk.js.map