(this["webpackJsonpreact-music"]=this["webpackJsonpreact-music"]||[]).push([[15],{110:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),c=a(22),o=a(26),i=a(12),s=a(13),l=a(15),u=a(14),d=a(0),m=a.n(d),h=a(264),f=(a(284),a(20)),p=a(36),v=a(126),E=a(131),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={details:{},common:[]},n.componentDidRecover=function(){n.getData()},n.componentDidCache=function(){n.video.pause()},e.cacheLifecycles.didCache(n.componentDidCache),e.cacheLifecycles.didRecover(n.componentDidRecover),n}return Object(s.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,a,n,o,i,s=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,Object(f.b)(t);case 3:return a=e.sent,e.next=6,Object(f.z)(t);case 6:return n=e.sent,e.next=9,Object(f.y)(t);case 9:o=e.sent,i=Object(c.a)(Object(c.a)({},n.data.data),{},{url:a.data.urls[0].url}),this.setState({details:i,common:o.data.comments},(function(){s.video.load()}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.details,n=t.common;return n.length?m.a.createElement("div",{className:"video_details"},m.a.createElement(E.a,{height:50},m.a.createElement("header",{className:"header"},m.a.createElement("div",{className:"text"},m.a.createElement("i",{className:"iconfont icon-jiantouzuo",onClick:function(){return e.props.history.goBack()}}),m.a.createElement("h3",null,a.title)))),m.a.createElement(h.Player,{poster:a.coverUrl,ref:function(t){return e.video=t}},m.a.createElement("source",{src:a.url}),m.a.createElement(h.ControlBar,{autoHide:!1,disableDefaultControls:!1},m.a.createElement(h.ReplayControl,{seconds:10,order:1.1}),m.a.createElement(h.ForwardControl,{seconds:30,order:1.2}),m.a.createElement(h.PlayToggle,null),m.a.createElement(h.CurrentTimeDisplay,{order:4.1}),m.a.createElement(h.TimeDivider,{order:4.2}),m.a.createElement(h.PlaybackRateMenuButton,{rates:[5,2,1.5,1,.5],order:7.1}),m.a.createElement(h.VolumeMenuButton,null))),m.a.createElement("ul",{className:"common"},n.map((function(e){return m.a.createElement("li",{key:e.commentId},m.a.createElement(v.a,{src:e.user.avatarUrl}),m.a.createElement("div",{className:"info"},m.a.createElement("p",null,m.a.createElement("span",null,e.user.nickname,":"),e.content),m.a.createElement("p",null,function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()}(e.time))))})))):m.a.createElement(p.a,null)}}]),a}(d.Component);t.default=g},126:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(129),o=a.n(c);t.a=function(e){var t={options:{error:a(127),loading:a(128),throttleWait:1e3},src:e.src};return r.a.createElement(o.a,t)}},127:function(e,t,a){e.exports=a.p+"static/media/loading-error.99e68751.svg"},128:function(e,t,a){e.exports=a.p+"static/media/loading.0bab9ee3.svg"},131:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(12),r=a(13),c=a(15),o=a(14),i=a(0),s=a.n(i),l=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).setFixed=function(){var e=document.documentElement.scrollTop,t=r.headerRef.current;e>0?(r.headerAntiShake.current.style.height=r.props.height+"px",t.classList.add("header_fixed")):(t.classList.remove("header_fixed"),r.headerAntiShake.current.style.height=null)},r.headerRef=Object(i.createRef)(),r.headerAntiShake=Object(i.createRef)(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.setFixed)}},{key:"render",value:function(){return s.a.createElement("div",{ref:this.headerAntiShake},s.a.createElement("section",{className:"",ref:this.headerRef},this.props.children))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.setFixed)}}]),a}(i.Component)}}]);
//# sourceMappingURL=15.785f883a.chunk.js.map