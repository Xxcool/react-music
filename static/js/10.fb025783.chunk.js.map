{"version":3,"sources":["utils/config.js","views/My/base/MyLogin.js","views/My/base/MyUserShow.js","views/My/My.js","component/common/LazyLoading.js","static/images/loading-error.svg","static/images/loading.svg","../../../../../webpack/universalModuleDefinition","../../../../../webpack/bootstrap","../../../../../src/tuil.js","../../../../../src/index.js","../webpack:/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","../../../../../src/lazy.js","../../../../../src/listener.js","component/content/RemoSongItem.js","../node_modules/js-num-format/index.js","component/content/BoutiqueSong.js"],"names":["phoneReg","MyLogin","props","handleLogin","a","phoneValue","phoneRef","current","value","passwordValue","passwordRef","test","getLogin","result","data","code","promptRef","handlePromptToggle","handleChangeLogin","createRef","className","type","placeholder","ref","this","onClick","Prompt","msg","Component","MyUserShow","state","userSong","followList","handleOut","getUserOut","getIsLogin","getUserData","userId","getUserSong","resultSong","getUserFollows","resultFollow","setState","playlist","map","item","playCount","id","name","picUrl","coverImgUrl","follow","loginStatus","src","avatarUrl","alt","nickname","follows","followeds","playlistCount","BoutiqueSong","recommend","key","py","LazyLoading","signature","style","margin","connect","My","getLoginStatus","profile","minHeight","Object","keys","length","config","options","error","require","loading","throttleWait","module","exports","window","i","l","modules","__webpack_require__","enumerable","bind","inBrowser","el","prop","getComputedStyle","getPropertyValue","overflow","e","eventRegister","on","func","capture","support","opts","defineProperty","get","addEventListener","passive","off","removeEventListener","throttle","action","delay","timeout","lastRun","context","args","arguments","runCallback","Date","now","apply","setTimeout","remove","arr","index","indexOf","splice","scrollParent","HTMLElement","parent","document","body","documentElement","parentNode","loadImageAsync","resolve","reject","image","Image","onload","naturalHeight","naturalWidth","onerror","_react","lazy","LazyClass","_classCallCheck","componentDidMount","add","_this","refs","lazyImg","backgroundImage","tag","React","createElement","_react2","nextProps","update","DEFAULT_URL","Lazy","defaultOptions","preLoad","listenEvents","ListenerQueue","TargetQueue","lazyLoadHandler","$lazyLoadHandler","some","inintOptions","$parent","listener","Listener","elRenderer","push","addListenerTarget","$listenerItem","find","updata","removeListenerTarget","$targetItem","t","target","childrenCount","initListener","forEach","start","evt","_this2","status","getAttribute","setAttribute","loaded","checkInView","load","_tuil","imgCache","initStatus","render","oldSrc","rect","getBoundingClientRect","getRect","top","innerHeight","bottom","left","innerWidth","right","RemoSongItem","color","numberFormat","k","param","unit","Math","floor","log","pow","toFixed","to"],"mappings":"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","file":"static/js/10.fb025783.chunk.js","sourcesContent":["\r\n// 教验手机号\r\nexport const phoneReg = /^1[3456789]\\d{9}$/\r\n","import React,{Component,createRef} from 'react'\r\nimport {getLogin} from '../../../api/index'\r\nimport {phoneReg} from '../../../utils/config'\r\nimport Prompt from \"../../../component/content/Prompt\";\r\nexport default class MyLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // 手机和与密码的ref标记\r\n        this.phoneRef = createRef()\r\n        this.passwordRef = createRef()\r\n    }\r\n    // 登陆\r\n    handleLogin = async () => {\r\n        // 必须是正确的手机号和密码，否则会登陆失败报错\r\n        const phoneValue = this.phoneRef.current.value\r\n        const passwordValue = this.passwordRef.current.value\r\n        if (phoneReg.test(phoneValue) && passwordValue) {\r\n            const result = await getLogin(phoneValue,passwordValue)\r\n            if (result.data.code === 502) {\r\n                this.promptRef.handlePromptToggle()\r\n            } else {\r\n                this.props.handleChangeLogin(result) // 向父级传递参数(登陆的数据)\r\n            }\r\n        } else {\r\n            this.promptRef.handlePromptToggle()\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                <section className={'login'}>\r\n                    <h3 className={'title'}>登陆</h3>\r\n                    <div>\r\n                        <span>手机号</span>\r\n                        <input type=\"text\"  placeholder={'请输入手机号'} ref={this.phoneRef}/>\r\n                    </div>\r\n                    <div>\r\n                        <span>密码</span>\r\n                        <input type=\"password\" placeholder={'请输入密码'} ref={this.passwordRef}/>\r\n                    </div>\r\n                    <button onClick={this.handleLogin}>登陆</button>\r\n                </section>\r\n                <Prompt msg={\"登陆失败\"} ref={promptRef => this.promptRef = promptRef}/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {getIsLogin} from '../../../store/action'\r\nimport {getUserSong,getUserFollows,getUserOut} from '../../../api/index'\r\nimport BoutiqueSong from '../../../component/content/BoutiqueSong'\r\nimport LazyLoading from '../../../component/common/LazyLoading'\r\nclass MyUserShow extends Component {\r\n    state = {\r\n        userSong: [], // 用户歌单数据\r\n        followList: [] // 用户关注列表\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.getUserData()\r\n    }\r\n    // 获取用户歌单相关的数据\r\n    async getUserData () {\r\n        const userId = this.props.userId\r\n        const resultSong = await getUserSong(userId)\r\n        const resultFollow = await getUserFollows(userId)\r\n        this.setState({\r\n            userSong: resultSong.data.playlist.map(item => ({\r\n                playCount: item.playCount,\r\n                id:item.id,\r\n                name:item.name,\r\n                picUrl:item.coverImgUrl\r\n            })),\r\n            followList: resultFollow.data.follow\r\n        })\r\n    }\r\n    // 退出登陆\r\n    handleOut = async () => {\r\n        await getUserOut()\r\n        this.props.getIsLogin({})\r\n    }\r\n    render() {\r\n        const {loginStatus} = this.props\r\n        const {userSong,followList} = this.state\r\n        return (\r\n            <>\r\n                <div className={'my_user'}>\r\n                    <div className=\"my_user_delete\">\r\n                        <img src={loginStatus.avatarUrl} alt={loginStatus.nickname} className={'avatar'}/>\r\n                        <p className={'user_nickname'}>{loginStatus.nickname}</p>\r\n                        <p className={'user_size'}>\r\n                            <span>关注：{loginStatus.follows}</span>\r\n                            |\r\n                            <span>粉丝：{loginStatus.followeds}</span>\r\n                        </p>\r\n                        <p className={'level'}>Lv.{loginStatus.playlistCount}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"discover_song\">\r\n                    <header className={'discover_song_head'}>\r\n                        <h3>用户歌单</h3>\r\n                    </header>\r\n                    <BoutiqueSong recommend={userSong}/>\r\n                </div>\r\n                <section className={'follow'}>\r\n                    <h3>{loginStatus.nickname}的关注</h3>\r\n                    <ul>\r\n                        {\r\n                            followList.map(item => (\r\n                                <li key={item.py}>\r\n                                    <LazyLoading src={item.avatarUrl} />\r\n                                    <div className=\"info\">\r\n                                        <h4>{item.nickname}</h4>\r\n                                        <p className={'text'}>{item.signature || '暂无'}</p>\r\n                                        <section>\r\n                                            <span>歌单:{item.playlistCount}</span>\r\n                                            <span style={{margin: '0 .1rem'}}>|</span>\r\n                                            <span>粉丝:{item.followeds}</span>\r\n                                        </section>\r\n                                    </div>\r\n                                </li>\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </section>\r\n                <button className={'out'} onClick={this.handleOut}>退出登陆</button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default  connect(\r\n    state => ({\r\n        loginStatus: state.loginStatus\r\n    }),\r\n    {getIsLogin}\r\n)(MyUserShow);\r\n","import React, { Component } from \"react\";\r\nimport { getLoginStatus } from \"../../api/index\";\r\nimport { connect } from \"react-redux\";\r\nimport { getIsLogin } from \"../../store/action\";\r\nimport MyLogin from \"./base/MyLogin\";\r\nimport MyUserShow from \"./base/MyUserShow\";\r\n\r\nclass My extends Component {\r\n  // 登陆成功的时候触发\r\n  handleChangeLogin = async (data) => {\r\n    const result = await getLoginStatus();\r\n    const profile = data.data.profile;\r\n    this.props.getIsLogin({\r\n      ...result.data.profile,\r\n      follows: profile.follows,\r\n      followeds: profile.followeds,\r\n      playlistCount: profile.playlistCount,\r\n    });\r\n  };\r\n  render() {\r\n    const { loginStatus } = this.props;\r\n    return (\r\n      <div\r\n        className=\"my\"\r\n        style={{\r\n          minHeight: Object.keys(loginStatus).length ? \"87vh\" : \"92.5vh\",\r\n        }}\r\n      >\r\n        {Object.keys(loginStatus).length ? (\r\n          <MyUserShow userId={loginStatus.userId} />\r\n        ) : (\r\n          <MyLogin handleChangeLogin={this.handleChangeLogin} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    loginStatus: state.loginStatus,\r\n  }),\r\n  { getIsLogin }\r\n)(My);\r\n","import React from 'react'\r\n// 引入图片懒加载的插件\r\nimport Lazyload from \"r-img-lazyload\";\r\n\r\nfunction LazyLoading (props) {\r\n    // 我们使用图片懒加载的目的是缓解首屏加载的压力，优化用户体验\r\n\r\n    // 配置图片懒加载\r\n    const config = {\r\n        // 其他配置项\r\n        options: {\r\n            error: require(\"../../static/images/loading-error.svg\"), // 加载失败后展示的图像\r\n            loading: require(\"../../static/images/loading.svg\"), // 加载中展示的图像\r\n            throttleWait: 1000 // 节流等待时间\r\n        },\r\n        // 图片地址\r\n        src: props.src\r\n    };\r\n    return <Lazyload {...config}/>\r\n}\r\n\r\nexport default LazyLoading\r\n","module.exports = __webpack_public_path__ + \"static/media/loading-error.99e68751.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.0bab9ee3.svg\";","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"React\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","// /* eslint-disable*/\nconst inBrowser = typeof window !== 'undefined';\n\nconst style = (el, prop) => (typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop]);\nconst overflow = el => style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n\nconst scrollParent = el => {\n    if (!inBrowser) {\n        return false;\n    }\n    if (!(el instanceof HTMLElement)) {\n        return window;\n    }\n    let parent = el;\n    while (parent) {\n        if (parent === document.body || parent === document.documentElement) {\n            break;\n        }\n        if (!parent.parentNode) {\n            break;\n        }\n        if (/(scroll|auto)/.test(overflow(parent))) {\n            return parent;\n        }\n        parent = parent.parentNode;\n    }\n    return window;\n};\nfunction throttle (action, delay) {\n    let timeout = null\n    let lastRun = 0\n    return function () {\n        if (timeout) {\n            return\n        }\n        let elapsed = Date.now() - lastRun\n        let context = this\n        let args = arguments\n        let runCallback = function () {\n                lastRun = Date.now()\n                timeout = false\n                action.apply(context, args)\n            }\n        if (elapsed >= delay) {\n            runCallback()\n        }\n        else {\n            timeout = setTimeout(runCallback, delay)\n        }\n    }\n}\nfunction testSupportsPassive() {\n    if (!inBrowser) {\n        return false;\n    }\n    let support = false;\n    try {\n        const opts = Object.defineProperty({}, 'passive', {\n            get() {\n                support = true;\n            }\n        });\n\n        window.addEventListener('test', null, opts);\n    }\n    catch (e) { }\n    return support;\n}\nconst eventRegister = {\n    on(el, type, func, capture = false) {\n        if (testSupportsPassive()) {\n            el.addEventListener(type, func, {\n                capture,\n                passive: true\n            });\n        }\n        else {\n            el.addEventListener(type, func, capture);\n        }\n    },\n    off(el, type, func, capture = false) {\n        el.removeEventListener(type, func, capture);\n    }\n};\n\nconst loadImageAsync = (item, resolve, reject) => {\n    if (!item.src) {\n        reject('img path is require');\n        return;\n    }\n    const image = new Image();\n    image.src = item.src;\n    image.onload = () => {\n        resolve({\n            naturalHeight: image.naturalHeight,\n            naturalWidth: image.naturalWidth,\n            src: image.src\n        });\n    };\n    image.onerror = e => {\n        reject(e);\n    };\n};\nfunction remove(arr, item) {\n    if (!arr.length) {\n        return;\n    }\n    const index = arr.indexOf(item);\n    if (index > -1) {\n        arr.splice(index, 1);\n    }\n}\nexport {\n    throttle,\n    remove,\n    style,\n    inBrowser,\n    eventRegister,\n    scrollParent,\n    loadImageAsync\n};\n\n","import React, { Component } from 'react';\nimport LazyClass from './lazy';\n\nconst lazy = new LazyClass();\n\nexport default class extends Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        if (this.props.tag) {\n            const Tag = React.createElement(\n                this.props.tag,\n                {\n                    ref: 'lazyImg',\n                    className: this.props.className,\n                    onClick: this.props.onClick\n                }\n            );\n            return Tag;\n        }\n        return <img className={this.props.className} onClick={this.props.onClick} ref=\"lazyImg\" />;\n    }\n    componentDidMount = () => {\n        lazy.add({\n            el: this.refs.lazyImg,\n            src: this.props.src,\n            backgroundImage: !!this.props.tag,\n            options: this.props.options\n        });\n    }\n    shouldComponentUpdate(nextProps) {\n        lazy.update({\n            el: this.refs.lazyImg,\n            src: nextProps.src,\n            backgroundImage: !!nextProps.tag,\n            options: nextProps.options\n        });\n        return true;\n    }\n    componentWillUnmount() {\n        lazy.remove(this.refs.lazyImg);\n    }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import { throttle, eventRegister, scrollParent, inBrowser, remove } from './tuil';\nimport Listener from './listener';\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default class Lazy {\n    constructor() {\n        this.defaultOptions = {\n            throttleWait: 200,\n            preLoad: 1.3,\n            listenEvents: ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'],\n            error: DEFAULT_URL,\n            loading: DEFAULT_URL\n        };\n        this.ListenerQueue = [];\n        this.TargetQueue = [];\n        this.lazyLoadHandler = throttle(this.$lazyLoadHandler.bind(this), this.defaultOptions.throttleWait);\n    }\n    inintOptions(options) {\n        this.defaultOptions = {\n            ...this.defaultOptions,\n            ...options\n        };\n    }\n    add({\n        el, src, backgroundImage, options = {}\n    }) {\n        if (this.ListenerQueue.some(item => item.el === el)) {\n            this.update({\n                el,\n                src,\n                backgroundImage,\n                options\n            });\n            return;\n        }\n        this.inintOptions(options);\n        const $parent = scrollParent(el);\n        const listener = new Listener({\n            el,\n            src,\n            $parent,\n            elRenderer: this.elRenderer,\n            options: {\n                ...this.defaultOptions,\n                backgroundImage\n            }\n        });\n        this.ListenerQueue.push(listener);\n\n        if (inBrowser) {\n            this.addListenerTarget(window);\n            this.addListenerTarget($parent);\n        }\n        this.lazyLoadHandler();\n    }\n    update({\n        el, src, backgroundImage, options = {}\n    }) {\n        const $listenerItem = this.ListenerQueue.find(item => item.el === el);\n        this.inintOptions(options);\n        $listenerItem && $listenerItem.updata({\n            src,\n            options: {\n                ...this.defaultOptions,\n                backgroundImage\n            }\n        });\n        this.lazyLoadHandler();\n    }\n    remove(el) {\n        if (!el) {\n            return;\n        }\n        const $listenerItem = this.ListenerQueue.find(item => item.el === el);\n        if ($listenerItem) {\n            this.removeListenerTarget($listenerItem.$parent);\n            this.removeListenerTarget(window);\n            remove(this.ListenerQueue, $listenerItem);\n        }\n    }\n    addListenerTarget(el) {\n        let $targetItem = this.TargetQueue.find(target => target.el === el);\n        if (!$targetItem) {\n            $targetItem = {\n                el,\n                childrenCount: 1\n            };\n            this.initListener($targetItem.el, true);\n            this.TargetQueue.push($targetItem);\n        }\n        else {\n            ++$targetItem.childrenCount;\n        }\n    }\n    removeListenerTarget(el) {\n        this.TargetQueue.forEach((target, index) => {\n            if (target.el === el) {\n                --target.childrenCount;\n                if (!target.childrenCount) {\n                    this.initListener(target.el, false);\n                    this.TargetQueue.splice(index, 1);\n                    target = null;\n                }\n            }\n        });\n    }\n    initListener(el, start) {\n        this.defaultOptions.listenEvents.forEach(evt => {\n            eventRegister[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler);\n        });\n    }\n    elRenderer(listener, status) {\n        const { el } = listener;\n        let src;\n        switch (status) {\n            case 'loading':\n                src = listener.loading;\n                break;\n            case 'error':\n                src = listener.error;\n                break;\n            default:\n                src = listener.src;\n                break;\n        }\n        if (listener.options.backgroundImage) {\n            el.style.backgroundImage = `url(${src})`;\n        }\n        else if (el.getAttribute('src') !== src) {\n            el.setAttribute('src', src);\n        }\n        el.setAttribute('lazy', status);\n    }\n    $lazyLoadHandler() {\n        this.ListenerQueue.forEach(listener => {\n            !listener.loaded && listener.checkInView() && listener.load();\n        });\n    }\n}\n","import { loadImageAsync } from './tuil';\n\nlet imgCache = {}\nexport default class Listener {\n    constructor({\n        el, src, $parent, elRenderer, options\n    }) {\n        this.el = el;\n        this.src = src;\n        this.error = options.error;\n        this.loading = options.loading;\n        this.$parent = $parent;\n        this.options = options;\n        this.elRenderer = elRenderer;\n\n        this.initStatus();\n        this.render('loading');\n    }\n    initStatus() {\n        this.status = {\n            error: false,\n            loaded: false\n        };\n    }\n    load() {\n        if (this.status.error) {\n            return;\n        }\n        if (this.status.loaded || imgCache[this.src]) {\n            this.render('loaded');\n        }\n        loadImageAsync({\n            src: this.src\n        }, () => {\n            this.status.loaded = true;\n            this.status.error = false;\n            this.render('loaded');\n            imgCache[this.src] = true;\n        }, e => {\n            this.status.loaded = false;\n            this.status.error = true;\n            this.render('error');\n        });\n    }\n    updata({\n        src, options\n    }) {\n        const oldSrc = this.src;\n        this.src = src;\n        this.loading = options.loading;\n        this.error = options.error;\n        this.options = options;\n        if (oldSrc !== this.src) {\n            this.initStatus();\n        }\n    }\n    render(status) {\n        this.elRenderer(this, status);\n    }\n    getRect() {\n        this.rect = this.el.getBoundingClientRect();\n    }\n    checkInView() {\n        this.getRect();\n        return (this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > 0) &&\n            (this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0);\n    }\n}\n","import React from 'react'\r\nimport {numberFormat} from 'js-num-format'\r\nimport Lazyload from '../common/LazyLoading'\r\n\r\nconst RemoSongItem = props => {\r\n    const {item,color} = props\r\n    return (\r\n        <div className=\"song_item\" key={item.id}>\r\n            <div className=\"info\">\r\n                <Lazyload src={item.picUrl}/>\r\n                <p>\r\n                    <i className=\"iconfont icon-bofangsanjiaoxing\" style={{color}}></i>\r\n                    <span>{numberFormat(item.playCount)}</span>\r\n                </p>\r\n            </div>\r\n            <p>{item.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RemoSongItem\r\n","export const numberFormat = function (value) {\r\n\tconst k = 10000\r\n\tconst sizes = ['', '万', '亿', '万亿']\r\n\tlet i\r\n\tlet param = {}\r\n\tif(value < k){\r\n\t\tparam.value =value\r\n\t\tparam.unit=''\r\n\t}else{\r\n\t\t// log 方法可返回一个数的自然对数。\r\n\t\ti = Math.floor(Math.log(value) / Math.log(k))\r\n\t\t// pow方法可返回 x 的 y 次幂的值。\r\n\t\tparam.value = ((value / Math.pow(k, i))).toFixed(2)\r\n\t\tparam.unit = sizes[i];\r\n\t}\r\n\treturn param.value + param.unit\r\n}\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport RemoSongItem from '../../component/content/RemoSongItem'\r\nconst BoutiqueSong = props => {\r\n    const {recommend} = props\r\n    return (\r\n        <section className=\"song_recommend\">\r\n            {\r\n                recommend.map((item, index) => (\r\n                    <NavLink to={`/recommend?id=${item.id}&name=${item.name}`} key={index}>\r\n                        <RemoSongItem item={item} color={\"#fff\"}/>\r\n                    </NavLink>\r\n                ))\r\n            }\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default BoutiqueSong\r\n"],"sourceRoot":""}