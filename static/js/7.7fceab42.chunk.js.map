{"version":3,"sources":["views/DJ/DJ.js","../node_modules/classnames/index.js","component/common/LazyLoading.js","static/images/loading-error.svg","static/images/loading.svg","../../../../../webpack/universalModuleDefinition","../../../../../webpack/bootstrap","../../../../../src/tuil.js","../../../../../src/index.js","../webpack:/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","../../../../../src/lazy.js","../../../../../src/listener.js","component/common/ScrollHeader.js","component/content/RemoSongItem.js","component/content/BoutiqueSong.js","component/content/SlideShow.js","component/content/SlideShowLarge.js"],"names":["DJ","state","banner","rankingList","programList","this","getData","getDjBanner","resultBanner","getDjRecommend","resultRankingList","getDjProgram","resultProgram","setState","data","map","item","image","pic","radios","reduce","a","b","concat","list","id","name","props","history","push","length","className","height","onClick","customPaging","handleShowBanner","largeSlide","recommend","index","key","handleClick","program","src","coverUrl","dj","avatarUrl","nickname","score","ref","Component","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","Array","isArray","inner","apply","call","join","module","exports","default","LazyLoading","config","options","error","require","loading","throttleWait","window","l","modules","__webpack_require__","Object","enumerable","value","bind","inBrowser","style","el","prop","getComputedStyle","getPropertyValue","overflow","e","eventRegister","on","type","func","capture","support","opts","defineProperty","get","addEventListener","passive","off","removeEventListener","throttle","action","delay","timeout","lastRun","context","args","runCallback","Date","now","setTimeout","remove","arr","indexOf","splice","scrollParent","HTMLElement","parent","document","body","documentElement","parentNode","test","loadImageAsync","resolve","reject","Image","onload","naturalHeight","naturalWidth","onerror","_react","lazy","LazyClass","_classCallCheck","componentDidMount","add","_this","refs","lazyImg","backgroundImage","tag","React","createElement","_react2","nextProps","update","DEFAULT_URL","Lazy","defaultOptions","preLoad","listenEvents","ListenerQueue","TargetQueue","lazyLoadHandler","$lazyLoadHandler","some","inintOptions","$parent","listener","Listener","elRenderer","addListenerTarget","$listenerItem","find","updata","removeListenerTarget","$targetItem","t","target","childrenCount","initListener","forEach","start","evt","_this2","status","getAttribute","setAttribute","loaded","checkInView","load","_tuil","imgCache","initStatus","render","oldSrc","rect","getBoundingClientRect","getRect","top","innerHeight","bottom","left","innerWidth","right","ScrollHeader","setFixed","scrollTop","headerDOM","headerRef","current","headerAntiShake","classList","createRef","children","RemoSongItem","color","picUrl","numberFormat","playCount","BoutiqueSong","to","SlideShow","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","arrows","alt","SlideShowLarge","isBannerShow","animation","slideShowRef","opacity","stopBodyScroll","handleHideBanner","display"],"mappings":"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","file":"static/js/7.7fceab42.chunk.js","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport { getDjBanner, getDjRecommend, getDjProgram } from \"../../api/index\";\r\nimport SlideShow from \"../../component/content/SlideShow\";\r\nimport SlideShowLarge from \"../../component/content/SlideShowLarge\";\r\nimport BoutiqueSong from \"../../component/content/BoutiqueSong\";\r\nimport LazyLoading from \"../../component/common/LazyLoading\";\r\nimport ScrollHeader from \"../../component/common/ScrollHeader\";\r\nimport Loading from \"../../component/content/Loading\";\r\nclass DJ extends Component {\r\n  state = {\r\n    banner: [], // 轮播图数据\r\n    rankingList: [], // 歌单排行榜数据\r\n    programList: [], // 电台列表数据\r\n  };\r\n  // 同步去请求数据\r\n  UNSAFE_componentWillMount() {\r\n    this.getData();\r\n  }\r\n  async getData() {\r\n    const resultBanner = await getDjBanner();\r\n    const resultRankingList = await getDjRecommend();\r\n    const resultProgram = await getDjProgram();\r\n    this.setState({\r\n      // 改变状态并且处理数据\r\n      banner: resultBanner.data.data.map((item) => ({ image: item.pic })),\r\n      // rankingList: resultRankingList.data.data,\r\n      rankingList: resultRankingList.data.data\r\n        .map((item) => item.radios)\r\n        .reduce((a, b) => a.concat(b)),\r\n      programList: resultProgram.data.data.list,\r\n    });\r\n  }\r\n  handleClick(id, name) {\r\n    this.props.history.push(`/recommend?id=${id}&name=${name}`); // 跳转\r\n  }\r\n  render() {\r\n    const { banner, rankingList, programList } = this.state;\r\n    if (banner.length) {\r\n      return (\r\n        <Fragment>\r\n          <div className=\"dj\">\r\n            {/* 头部 */}\r\n            <ScrollHeader height={50}>\r\n              <header className=\"header\">\r\n                <div className=\"header_left\">\r\n                  <i\r\n                    className=\"iconfont icon-jiantouzuo\"\r\n                    onClick={() => this.props.history.push(\"/\")}\r\n                  ></i>\r\n                  <p>电台</p>\r\n                </div>\r\n              </header>\r\n            </ScrollHeader>\r\n            {/* 轮播图 */}\r\n            <SlideShow\r\n              banner={banner}\r\n              customPaging={() => <span></span>}\r\n              className={\"dj_slide\"}\r\n              handleShowBanner={() => {\r\n                this.largeSlide.handleShowBanner();\r\n              }}\r\n            />\r\n            {/* 排行榜 */}\r\n            <section className=\"dj_song\">\r\n              <h3>推荐电台</h3>\r\n              <BoutiqueSong recommend={rankingList} />\r\n            </section>\r\n            {/* 电台列表 */}\r\n            <section className=\"dj_list discover_song\">\r\n              <header className=\"discover_song_head\">\r\n                <h3>榜单排行</h3>\r\n              </header>\r\n              {programList.map((item, index) => (\r\n                <div key={index} className=\"dj_list_item\" onClick={() => this.handleClick(item.program.id, item.program.name)}>\r\n                  <LazyLoading src={item.program.coverUrl} />\r\n                  <div className=\"info\">\r\n                    <p>{item.program.name}</p>\r\n                    <div className=\"info_user\">\r\n                      <LazyLoading src={item.program.dj.avatarUrl} />\r\n                      <p className=\"name\">{item.program.dj.nickname}</p>\r\n                      <p className=\"hot\">\r\n                        <i className=\"iconfont icon-hot\"></i>\r\n                        {item.score}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <i className=\"iconfont icon-shipin\"></i>\r\n                </div>\r\n              ))}\r\n            </section>\r\n          </div>\r\n          {/* 显示大图 */}\r\n          <SlideShowLarge ref={(largeSlide) => (this.largeSlide = largeSlide)}>\r\n            <SlideShow\r\n              banner={banner}\r\n              className=\"slider_show_slide\"\r\n              customPaging={(index) => {\r\n                return (\r\n                  <div>\r\n                    {index + 1}/{banner.length}\r\n                  </div>\r\n                );\r\n              }}\r\n            />\r\n          </SlideShowLarge>\r\n        </Fragment>\r\n      );\r\n    } else {\r\n      return <Loading />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default DJ;\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react'\r\n// 引入图片懒加载的插件\r\nimport Lazyload from \"r-img-lazyload\";\r\n\r\nfunction LazyLoading (props) {\r\n    // 我们使用图片懒加载的目的是缓解首屏加载的压力，优化用户体验\r\n\r\n    // 配置图片懒加载\r\n    const config = {\r\n        // 其他配置项\r\n        options: {\r\n            error: require(\"../../static/images/loading-error.svg\"), // 加载失败后展示的图像\r\n            loading: require(\"../../static/images/loading.svg\"), // 加载中展示的图像\r\n            throttleWait: 1000 // 节流等待时间\r\n        },\r\n        // 图片地址\r\n        src: props.src\r\n    };\r\n    return <Lazyload {...config}/>\r\n}\r\n\r\nexport default LazyLoading\r\n","module.exports = __webpack_public_path__ + \"static/media/loading-error.99e68751.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.0bab9ee3.svg\";","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"React\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","// /* eslint-disable*/\nconst inBrowser = typeof window !== 'undefined';\n\nconst style = (el, prop) => (typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop]);\nconst overflow = el => style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n\nconst scrollParent = el => {\n    if (!inBrowser) {\n        return false;\n    }\n    if (!(el instanceof HTMLElement)) {\n        return window;\n    }\n    let parent = el;\n    while (parent) {\n        if (parent === document.body || parent === document.documentElement) {\n            break;\n        }\n        if (!parent.parentNode) {\n            break;\n        }\n        if (/(scroll|auto)/.test(overflow(parent))) {\n            return parent;\n        }\n        parent = parent.parentNode;\n    }\n    return window;\n};\nfunction throttle (action, delay) {\n    let timeout = null\n    let lastRun = 0\n    return function () {\n        if (timeout) {\n            return\n        }\n        let elapsed = Date.now() - lastRun\n        let context = this\n        let args = arguments\n        let runCallback = function () {\n                lastRun = Date.now()\n                timeout = false\n                action.apply(context, args)\n            }\n        if (elapsed >= delay) {\n            runCallback()\n        }\n        else {\n            timeout = setTimeout(runCallback, delay)\n        }\n    }\n}\nfunction testSupportsPassive() {\n    if (!inBrowser) {\n        return false;\n    }\n    let support = false;\n    try {\n        const opts = Object.defineProperty({}, 'passive', {\n            get() {\n                support = true;\n            }\n        });\n\n        window.addEventListener('test', null, opts);\n    }\n    catch (e) { }\n    return support;\n}\nconst eventRegister = {\n    on(el, type, func, capture = false) {\n        if (testSupportsPassive()) {\n            el.addEventListener(type, func, {\n                capture,\n                passive: true\n            });\n        }\n        else {\n            el.addEventListener(type, func, capture);\n        }\n    },\n    off(el, type, func, capture = false) {\n        el.removeEventListener(type, func, capture);\n    }\n};\n\nconst loadImageAsync = (item, resolve, reject) => {\n    if (!item.src) {\n        reject('img path is require');\n        return;\n    }\n    const image = new Image();\n    image.src = item.src;\n    image.onload = () => {\n        resolve({\n            naturalHeight: image.naturalHeight,\n            naturalWidth: image.naturalWidth,\n            src: image.src\n        });\n    };\n    image.onerror = e => {\n        reject(e);\n    };\n};\nfunction remove(arr, item) {\n    if (!arr.length) {\n        return;\n    }\n    const index = arr.indexOf(item);\n    if (index > -1) {\n        arr.splice(index, 1);\n    }\n}\nexport {\n    throttle,\n    remove,\n    style,\n    inBrowser,\n    eventRegister,\n    scrollParent,\n    loadImageAsync\n};\n\n","import React, { Component } from 'react';\nimport LazyClass from './lazy';\n\nconst lazy = new LazyClass();\n\nexport default class extends Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        if (this.props.tag) {\n            const Tag = React.createElement(\n                this.props.tag,\n                {\n                    ref: 'lazyImg',\n                    className: this.props.className,\n                    onClick: this.props.onClick\n                }\n            );\n            return Tag;\n        }\n        return <img className={this.props.className} onClick={this.props.onClick} ref=\"lazyImg\" />;\n    }\n    componentDidMount = () => {\n        lazy.add({\n            el: this.refs.lazyImg,\n            src: this.props.src,\n            backgroundImage: !!this.props.tag,\n            options: this.props.options\n        });\n    }\n    shouldComponentUpdate(nextProps) {\n        lazy.update({\n            el: this.refs.lazyImg,\n            src: nextProps.src,\n            backgroundImage: !!nextProps.tag,\n            options: nextProps.options\n        });\n        return true;\n    }\n    componentWillUnmount() {\n        lazy.remove(this.refs.lazyImg);\n    }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import { throttle, eventRegister, scrollParent, inBrowser, remove } from './tuil';\nimport Listener from './listener';\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\nexport default class Lazy {\n    constructor() {\n        this.defaultOptions = {\n            throttleWait: 200,\n            preLoad: 1.3,\n            listenEvents: ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'],\n            error: DEFAULT_URL,\n            loading: DEFAULT_URL\n        };\n        this.ListenerQueue = [];\n        this.TargetQueue = [];\n        this.lazyLoadHandler = throttle(this.$lazyLoadHandler.bind(this), this.defaultOptions.throttleWait);\n    }\n    inintOptions(options) {\n        this.defaultOptions = {\n            ...this.defaultOptions,\n            ...options\n        };\n    }\n    add({\n        el, src, backgroundImage, options = {}\n    }) {\n        if (this.ListenerQueue.some(item => item.el === el)) {\n            this.update({\n                el,\n                src,\n                backgroundImage,\n                options\n            });\n            return;\n        }\n        this.inintOptions(options);\n        const $parent = scrollParent(el);\n        const listener = new Listener({\n            el,\n            src,\n            $parent,\n            elRenderer: this.elRenderer,\n            options: {\n                ...this.defaultOptions,\n                backgroundImage\n            }\n        });\n        this.ListenerQueue.push(listener);\n\n        if (inBrowser) {\n            this.addListenerTarget(window);\n            this.addListenerTarget($parent);\n        }\n        this.lazyLoadHandler();\n    }\n    update({\n        el, src, backgroundImage, options = {}\n    }) {\n        const $listenerItem = this.ListenerQueue.find(item => item.el === el);\n        this.inintOptions(options);\n        $listenerItem && $listenerItem.updata({\n            src,\n            options: {\n                ...this.defaultOptions,\n                backgroundImage\n            }\n        });\n        this.lazyLoadHandler();\n    }\n    remove(el) {\n        if (!el) {\n            return;\n        }\n        const $listenerItem = this.ListenerQueue.find(item => item.el === el);\n        if ($listenerItem) {\n            this.removeListenerTarget($listenerItem.$parent);\n            this.removeListenerTarget(window);\n            remove(this.ListenerQueue, $listenerItem);\n        }\n    }\n    addListenerTarget(el) {\n        let $targetItem = this.TargetQueue.find(target => target.el === el);\n        if (!$targetItem) {\n            $targetItem = {\n                el,\n                childrenCount: 1\n            };\n            this.initListener($targetItem.el, true);\n            this.TargetQueue.push($targetItem);\n        }\n        else {\n            ++$targetItem.childrenCount;\n        }\n    }\n    removeListenerTarget(el) {\n        this.TargetQueue.forEach((target, index) => {\n            if (target.el === el) {\n                --target.childrenCount;\n                if (!target.childrenCount) {\n                    this.initListener(target.el, false);\n                    this.TargetQueue.splice(index, 1);\n                    target = null;\n                }\n            }\n        });\n    }\n    initListener(el, start) {\n        this.defaultOptions.listenEvents.forEach(evt => {\n            eventRegister[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler);\n        });\n    }\n    elRenderer(listener, status) {\n        const { el } = listener;\n        let src;\n        switch (status) {\n            case 'loading':\n                src = listener.loading;\n                break;\n            case 'error':\n                src = listener.error;\n                break;\n            default:\n                src = listener.src;\n                break;\n        }\n        if (listener.options.backgroundImage) {\n            el.style.backgroundImage = `url(${src})`;\n        }\n        else if (el.getAttribute('src') !== src) {\n            el.setAttribute('src', src);\n        }\n        el.setAttribute('lazy', status);\n    }\n    $lazyLoadHandler() {\n        this.ListenerQueue.forEach(listener => {\n            !listener.loaded && listener.checkInView() && listener.load();\n        });\n    }\n}\n","import { loadImageAsync } from './tuil';\n\nlet imgCache = {}\nexport default class Listener {\n    constructor({\n        el, src, $parent, elRenderer, options\n    }) {\n        this.el = el;\n        this.src = src;\n        this.error = options.error;\n        this.loading = options.loading;\n        this.$parent = $parent;\n        this.options = options;\n        this.elRenderer = elRenderer;\n\n        this.initStatus();\n        this.render('loading');\n    }\n    initStatus() {\n        this.status = {\n            error: false,\n            loaded: false\n        };\n    }\n    load() {\n        if (this.status.error) {\n            return;\n        }\n        if (this.status.loaded || imgCache[this.src]) {\n            this.render('loaded');\n        }\n        loadImageAsync({\n            src: this.src\n        }, () => {\n            this.status.loaded = true;\n            this.status.error = false;\n            this.render('loaded');\n            imgCache[this.src] = true;\n        }, e => {\n            this.status.loaded = false;\n            this.status.error = true;\n            this.render('error');\n        });\n    }\n    updata({\n        src, options\n    }) {\n        const oldSrc = this.src;\n        this.src = src;\n        this.loading = options.loading;\n        this.error = options.error;\n        this.options = options;\n        if (oldSrc !== this.src) {\n            this.initStatus();\n        }\n    }\n    render(status) {\n        this.elRenderer(this, status);\n    }\n    getRect() {\n        this.rect = this.el.getBoundingClientRect();\n    }\n    checkInView() {\n        this.getRect();\n        return (this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > 0) &&\n            (this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0);\n    }\n}\n","import React, { Component, createRef } from 'react'\r\n// 处理头部固定定位的时候 抖动问题的组件\r\n// 启动fixed定位的时候 我们要有一个节点来进行防抖(设置高)，否则会有抖动的问题\r\nexport default class ScrollHeader extends Component {\r\n    constructor (props) {\r\n        super(props)\r\n        // ref标记头部的节点\r\n        this.headerRef = createRef()\r\n        // ref标记头部节点的防抖层\r\n        this.headerAntiShake = createRef()\r\n    }\r\n    componentDidMount () {\r\n        window.addEventListener('scroll', this.setFixed)\r\n    }\r\n    // 设置头部是否可以为fixed定位进行展示\r\n    setFixed = () => {\r\n        /* \r\n            props参数\r\n                height：固定防抖层的高度\r\n        */\r\n        const scrollTop = document.documentElement.scrollTop\r\n        const headerDOM = this.headerRef.current\r\n        if (scrollTop > 0) {\r\n            this.headerAntiShake.current.style.height = this.props.height + 'px'\r\n            headerDOM.classList.add('header_fixed')\r\n        } else {\r\n            headerDOM.classList.remove('header_fixed')\r\n            this.headerAntiShake.current.style.height = null\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div ref={this.headerAntiShake}>\r\n                <section className=\"\" ref={this.headerRef}>\r\n                    {this.props.children}\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n    // 组件销毁的时候清除定时器\r\n    componentWillUnmount () {\r\n        window.removeEventListener('scroll', this.setFixed)\r\n    }\r\n}\r\n","import React from 'react'\r\nimport {numberFormat} from 'js-num-format'\r\nimport Lazyload from '../common/LazyLoading'\r\n\r\nconst RemoSongItem = props => {\r\n    const {item,color} = props\r\n    return (\r\n        <div className=\"song_item\" key={item.id}>\r\n            <div className=\"info\">\r\n                <Lazyload src={item.picUrl}/>\r\n                <p>\r\n                    <i className=\"iconfont icon-bofangsanjiaoxing\" style={{color}}></i>\r\n                    <span>{numberFormat(item.playCount)}</span>\r\n                </p>\r\n            </div>\r\n            <p>{item.name}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RemoSongItem\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport RemoSongItem from '../../component/content/RemoSongItem'\r\nconst BoutiqueSong = props => {\r\n    const {recommend} = props\r\n    return (\r\n        <section className=\"song_recommend\">\r\n            {\r\n                recommend.map((item, index) => (\r\n                    <NavLink to={`/recommend?id=${item.id}&name=${item.name}`} key={index}>\r\n                        <RemoSongItem item={item} color={\"#fff\"}/>\r\n                    </NavLink>\r\n                ))\r\n            }\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default BoutiqueSong\r\n","import React, { Component } from 'react'\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nexport default class SlideShow extends Component {\r\n    render() {\r\n        /*\r\n            banner: 数据源(必须)\r\n            className: 轮播图的类名，每一个轮播图都需要有一个className (可选)\r\n            customPaging: 自定义分页 (必须)\r\n            handleShowBanner: 可选，触发父级点击展示轮播图\r\n        */\r\n        const {banner,className,customPaging,handleShowBanner} = this.props\r\n        // 轮播图选项\r\n        const settings = {\r\n            dots: true,\r\n            infinite: true,\r\n            speed: 500,\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1,\r\n            autoplay: true,\r\n            arrows: false\r\n        };\r\n        return  (\r\n            <Slider {...settings} customPaging={customPaging} className={className}>\r\n                {\r\n                    banner.map((item,index) => <img src={item.image} alt=\"\" key={index} onClick={handleShowBanner ? handleShowBanner : () => {}}/>)\r\n                }\r\n            </Slider>\r\n        )\r\n    }\r\n}\r\n","import React, { Component, createRef } from 'react'\r\n// import SlideShow from './SlideShow'\r\nimport animation from '../../utils/animation'\r\nimport stopBodyScroll from '../../utils/stopBodyScroll'\r\n\r\nexport default class SlideShowLarge extends Component {\r\n    state = {\r\n        isBannerShow: false // 是否显示大图轮播图\r\n    }\r\n    constructor (props) {\r\n        super(props)\r\n        // 标记大图轮播图\r\n        this.slideShowRef = createRef()\r\n    }\r\n    // 点击显示展示轮播图\r\n    handleShowBanner = () => {\r\n        this.setState({\r\n            isBannerShow: true\r\n        })\r\n        animation(this.slideShowRef.current,{\r\n            opacity:1,\r\n        },0.25,function(){\r\n            stopBodyScroll(true)\r\n        })\r\n    }\r\n    // 点击关闭展示轮播图\r\n    handleHideBanner = () => {\r\n        animation(this.slideShowRef.current,{\r\n            opacity:0,\r\n        },0.3,() => {\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    isBannerShow: false\r\n                })\r\n            }, 300)\r\n        })\r\n        stopBodyScroll(false)\r\n    }\r\n    render() {\r\n        const {isBannerShow} = this.state\r\n        return (\r\n           <div  className=\"slider_show\" onClick={this.handleHideBanner} ref={this.slideShowRef} style={{display: isBannerShow ? 'block' : 'none'}}>\r\n               {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}